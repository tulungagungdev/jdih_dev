/**
 * ModalWindow wrapper.
 *
 * @author RFVenom Design SIAT Dev (Ryan Fitra -- RFV --)
 *
 * @version 1.2.5 -- 13 Mei 2019 -- Update -- 25 Sep 2019
 *
 * @requires appear.js (v1.0.3), custombox.js (v4.0.1)
 *
 */
!function(e){"use strict";e.RFVCore.components.RFVModalWindow={_baseConfig:{bounds:100,debounce:50,overlayOpacity:.48,overlayColor:"#000000",speed:400,sleep:!1,sleepSpeed:5e3,type:"onscroll",effect:"fadein",sessionStorageModal:!1,sessionStorageCountDefaultLimit:5,onOpen:function(){},onClose:function(){},onComplete:function(){}},_pageCollection:e(),init:function(o,t){var a=e(o);if(a.length){if((t=t&&e.isPlainObject(t)?e.extend({},this._baseConfig,t):this._baseConfig).selector=o,this._pageCollection=this._pageCollection.add(a.not(this._pageCollection)),t.autonomous){if(t.sessionStorageModal&&(this.intiCounterLimitSessionStorage(a,t),sessionStorage.storageWMisLoaded)){if(!(sessionStorage.storageWMCounter>=sessionStorage.storageWMLimit))return;sessionStorage.storageWMCounter=0,sessionStorage.removeItem("storageWMisLoaded")}return!t.sessionStorageModal&&sessionStorage&&(sessionStorage.removeItem("storageWMName"),sessionStorage.removeItem("storageWMLimit"),sessionStorage.removeItem("storageWMCounter"),sessionStorage.removeItem("storageWMisLoaded")),this.initAutonomousModalWindows(a,t)}return this.initBaseModalWindows(a,t)}},intiCounterLimitSessionStorage:function(o,t){o.each(function(o,a){var n=e(a),s=n.data("session-show-limit")?n.data("session-show-limit"):t.sessionStorageCountDefaultLimit;sessionStorage.storageWMName="Window Modal",sessionStorage.storageWMLimit=s,sessionStorage.storageWMisLoaded?sessionStorage.storageWMCounter=parseInt(sessionStorage.storageWMCounter)+1:sessionStorage.storageWMCounter=parseInt(0);Object.keys(sessionStorage).reduce(function(e,o){return e[o]=sessionStorage.getItem(o),e},{})})},initBaseModalWindows:function(o,t){return o.on("click",function(o){if("Custombox"in window){var a=e(this),n=a.data("modal-target"),s=a.data("modal-effect")||t.effect;n&&e(n).length&&(new Custombox.modal({content:{target:n,effect:s,onOpen:function(){t.onOpen.call(e(n))},onClose:function(){t.onClose.call(e(n))},onComplete:function(){t.onComplete.call(e(n))}},overlay:{color:a.data("overlay-color")||t.overlayColor,opacity:a.data("overlay-opacity")||t.overlayOpacity,speedIn:a.data("speed")||t.speed,speedOut:a.data("speed")||t.speed}}).open(),o.preventDefault())}})},initAutonomousModalWindows:function(o,t){var a=this;return o.each(function(o,n){var s=e(n);switch(s.data("modal-type")){case"hashlink":a.initHashLinkPopup(s,t);break;case"onscroll":a.initOnScrollPopup(s,t);break;case"beforeunload":a.initBeforeUnloadPopup(s,t);break;case"ontarget":a.initOnTargetPopup(s,t);break;case"aftersometime":a.initAfterSomeTimePopup(s,t)}})},initHashLinkPopup:function(o,t){var a=e(window.location.hash),n=e("#"+o.attr("id"));a.length&&a.attr("id")==o.attr("id")&&(new Custombox.modal({content:{target:"#"+o.attr("id"),effect:o.data("effect")||t.effect,onOpen:function(){t.onOpen.call(e(n))},onClose:function(){t.onClose.call(e(n))},onComplete:function(){t.onComplete.call(e(n))}},overlay:{color:o.data("overlay-color")||t.overlayColor,opacity:o.data("overlay-opacity")||t.overlayOpacity,speedIn:o.data("speed")||t.speed,speedOut:o.data("speed")||t.speed}}).open(),sessionStorage.storageWMisLoaded=!0,(o.data("sleep-timeout")?o.data("sleep-timeout"):t.sleep)&&setTimeout(function(){Custombox.modal.close()},o.data("sleep-timeout-speed")?o.data("sleep-timeout-speed"):t.sleepSpeed))},initOnScrollPopup:function(o,t){var a=e(window),n=o.data("breakpoint")?o.data("breakpoint"):0,s=e("#"+o.attr("id"));a.on("scroll.popup",function(){a.scrollTop()+a.height()>=n&&(new Custombox.modal({content:{target:"#"+o.attr("id"),effect:o.data("effect")||t.effect,onOpen:function(){t.onOpen.call(e(s))},onClose:function(){t.onClose.call(e(s))},onComplete:function(){t.onComplete.call(e(s))}},overlay:{color:o.data("overlay-color")||t.overlayColor,opacity:o.data("overlay-opacity")||t.overlayOpacity,speedIn:o.data("speed")||t.speed,speedOut:o.data("speed")||t.speed}}).open(),a.off("scroll.popup"),sessionStorage.storageWMisLoaded=!0,(o.data("sleep-timeout")?o.data("sleep-timeout"):t.sleep)&&setTimeout(function(){Custombox.modal.close()},o.data("sleep-timeout-speed")?o.data("sleep-timeout-speed"):t.sleepSpeed))}),a.trigger("scroll.popup")},initBeforeUnloadPopup:function(o,t){var a,n=0,s=e("#"+o.attr("id"));window.addEventListener("mousemove",function(i){a&&clearTimeout(a),a=setTimeout(function(){i.clientY<10&&!n&&(n++,new Custombox.modal({content:{target:"#"+o.attr("id"),effect:o.data("effect")||t.effect,onOpen:function(){t.onOpen.call(e(s))},onClose:function(){t.onClose.call(e(s))},onComplete:function(){t.onComplete.call(e(s))}},overlay:{color:o.data("overlay-color")||t.overlayColor,opacity:o.data("overlay-opacity")||t.overlayOpacity,speedIn:o.data("speed")||t.speed,speedOut:o.data("speed")||t.speed}}).open()),sessionStorage.storageWMisLoaded=!0,(o.data("sleep-timeout")?o.data("sleep-timeout"):t.sleep)&&setTimeout(function(){Custombox.modal.close()},o.data("sleep-timeout-speed")?o.data("sleep-timeout-speed"):t.sleepSpeed)},10)})},initOnTargetPopup:function(o,t){var a=o.data("target");a&&e(a).length&&(appear({bounds:t.bounds,debounce:t.debounce,elements:function(){return document.querySelectorAll(a)},appear:function(n){new Custombox.modal({content:{target:"#"+o.attr("id"),effect:o.data("effect")||t.effect,onOpen:function(){t.onOpen.call(e(a))},onClose:function(){t.onClose.call(e(a))},onComplete:function(){t.onComplete.call(e(a))}},overlay:{color:o.data("overlay-color")||t.overlayColor,opacity:o.data("overlay-opacity")||t.overlayOpacity,speedIn:o.data("speed")||t.speed,speedOut:o.data("speed")||t.speed}}).open(),sessionStorage.storageWMisLoaded=!0}}),(o.data("sleep-timeout")?o.data("sleep-timeout"):t.sleep)&&setTimeout(function(){Custombox.modal.close()},o.data("sleep-timeout-speed")?o.data("sleep-timeout-speed"):t.sleepSpeed))},initAfterSomeTimePopup:function(o,t){var a=e("#"+o.attr("id"));setTimeout(function(){new Custombox.modal({content:{target:"#"+o.attr("id"),effect:o.data("effect")||t.effect,onOpen:function(){t.onOpen.call(e(a))},onClose:function(){t.onClose.call(e(a))},onComplete:function(){t.onComplete.call(e(a))}},overlay:{color:o.data("overlay-color")||t.overlayColor,opacity:o.data("overlay-opacity")||t.overlayOpacity,speedIn:o.data("speed")||t.speed,speedOut:o.data("speed")||t.speed}}).open(),sessionStorage.storageWMisLoaded=!0},o.data("delay")?o.data("delay"):10),(o.data("sleep-timeout")?o.data("sleep-timeout"):t.sleep)&&setTimeout(function(){Custombox.modal.close()},o.data("sleep-timeout-speed")?o.data("sleep-timeout-speed"):t.sleepSpeed)}}}(jQuery);